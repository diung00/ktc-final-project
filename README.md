# 음식 배달 중계 시스템
이 프로젝트는  **KTECH 백엔드 과정 의 최종 프로젝트**로, 한국의 발달된 배달 문화를 바탕으로 음식점 주인과 사용자가 편리하게 음식을 주문하고 배달 받을 수 있는 중계 시스템을 구현하였습니다. 사용자와 배달부 간 실시간 위치 추적, 주문 가능 여부 판단, 그리고 예상 이동 경로 표시 등의 기능이 포함되어 있습니다.

### 팀 멤버

- **[Diu Nguyen (응웬티지우)](https://github.com/diung00)**
- **[Huong Tran (트란티티엔흐엉3506)](https://github.com/huongttt3506)**
- **[Tran Duong Thien Loc (트란즈엉티엔록5010)](Link_here)**
- **[Bao Lam Truong(바오람1308)](https://github.com/truongbaolam)**
- **[Nhat Minh Do(도나민0998)](https://github.com/donhatminh0998)**


## 프로젝트 설명

이 시스템은 **Spring Boot**를 사용하여 음식 배달 중계 시스템의 백엔드 API를 구축합니다. 사용자는 현재 위치를 기반으로 음식점에서 음식을 주문하고, 배달이 시작되면 실시간으로 배달부의 위치를 추적할 수 있습니다. 또한 식당 주인은 배달 등록을 통해 자신만의 식당과 메뉴를 시스템에 등록할 수 있습니다.

## 주요 기능

### 1. 관리자 (Admin)
- **요청 관리:** 식당 주인과 배달원의 요청을 검토하고 승인합니다.
- **주문 관리:** 주문 상태를 모니터링하고 주문을 배달원에게 할당합니다.

### 2. 고객 (Customer)
- **식당 목록 보기:** 주소를 입력하여 주변 식당 목록을 조회합니다.
- **메뉴 보기:** 식당의 메뉴와 각 메뉴 항목의 세부 정보를 확인합니다.
- **장바구니:** 음식을 장바구니에 추가하고 결제합니다.
- **주문 상태 추적:** 주문 상태 및 예상 배달 시간을 확인합니다.
- **배달원 위치 추적:** 배달원의 실시간 위치를 지도에서 확인합니다.
- **식당 평가:** 고객은 식당에 대한 평점(1~5점)을 남기고 자세한 리뷰를 작성할 수 있습니다.
- **음식 평가:** 고객은 메뉴의 각 음식을 1~5점으로 평가하고 맛과 신선도에 대한 리뷰를 남길 수 있습니다.
- **이메일 인증:** 서비스 사용 전 이메일 주소의 정확성을 확인하기 위해 인증 이메일을 수신합니다.
- **식당 즐겨찾기:** 고객은 좋아하는 식당을 저장하여 쉽게 찾을 수 있습니다.

### 3. 식당 주인 (Owner)
- **식당 등록:** 배달 서비스를 제공하기 위해 새 식당을 등록합니다.
- **메뉴 생성:** 최소 주문 금액 및 배달 지역을 포함한 메뉴를 설정합니다.
- **승인 요청 전송:** 관리자의 승인을 요청합니다.
- **주문 상태 추적:** 주문의 상태 및 배달원의 위치를 확인합니다.
- **리뷰 보기:** 고객의 리뷰 및 피드백을 확인합니다.
- **좋아요 관리:** 고객의 좋아요 수를 모니터링합니다.

### 4. 배달원 (Driver)
- **대기 중인 주문 목록 보기:** 배달 중인 주문과 완료된 주문을 확인합니다.
- **주문 상태 추적:** 현재 배달 중인 주문의 상태를 확인합니다.

## 구현된 기술

### 1. 소프트웨어 아키텍처
- 기능을 독립적인 부분(관리자, 고객, 식당, 배달원)으로 분리하여 개발 및 유지 관리의 용이성을 제공합니다.

### 2. 기술
- **백엔드:**
    - 프로그래밍 언어: Java와 Spring Boot를 사용하여 RESTful API를 구축합니다.
    - 데이터베이스: SQLite.
    - 인증 및 권한 부여: JSON Web Token (JWT).

- **프론트엔드:**
    - 프로그래밍 언어: JavaScript, HTML, CSS.

### 3. 실시간 상호작용
- **WebSocket:** 고객에게 주문 상태 및 배달원의 위치에 대한 실시간 정보를 제공합니다.

### 4. 보안
- **이메일 인증:** 사용자가 등록할 때 SendGrid 또는 Nodemailer와 같은 이메일 발송 라이브러리를 사용하여 인증 이메일을 발송합니다.

### 5. AWS에 애플리케이션 배포
- **목표:** AWS 클라우드 플랫폼에 애플리케이션을 배포하여 가용성 및 보안을 보장합니다.
- **사용 기술:** Amazon EC2를 사용하여 애플리케이션의 백엔드를 배포하고, 유연한 확장이 가능한 가상 서버 인스턴스를 생성하고 관리합니다.

## 기술 스택

- **프레임워크**: Spring Boot 3.3.3
- **데이터베이스**: SQLite
- **의존성**:
    - ***Spring Web***:  웹 애플리케이션을 구축하기 위한 핵심 모듈입니다.
    - ***Spring Security***: 사용자 인증 및 권한 관리를 위한 보안 모듈입니다.
    - ***Thymeleaf***: 서버 측 HTML 템플릿 엔진입니다.
    - ***Lombok***: 자바의 보일러플레이트 코드를 줄여주는 라이브러리입니다.
    - ***Spring Data JPA***: 데이터베이스와의 상호작용을 간소화해주는 JPA 구현체입니다.
    - ***WebSocket***: 실시간 통신을 위한 기술.
    - ***네이버 지도 API***: 배달 경로 및 위치 표시를 위한 지도 서비스.
    - ***NCloud Directions 5 API***: 실시간 배달 경로 안내를 위한 API.
- **API 테스트 도구**: Postman

## API 문서 및 다이어그램

- [Postman Collection](docs/CHOI-GANG-DELIVERY-APP.postman_collection.json): 모든 API 엔드포인트를 테스트할 수 있는 Postman 컬렉션 파일입니다.
- [Entity Diagram](docs/ERD.png): 데이터베이스 엔티티와 그 관계를 시각화한 다이어그램입니다.
- [Workflow Diagram](Link_To_WorkFlow_Diagram): 시스템 상호작용 및 주요 프로세스를 나타낸 다이어그램입니다.
- [패키지 구조 다이어그램](Link_To_Structure_Tree): 프로젝트의 패키지 구조를 시각화한 다이어그램입니다.

## 체크포인트 및 도전

### 체크포인트

- [x] **사용자 인증 및 권한 처리**: JWT 토큰 기반 인증 구현
- [x] **회원가입**: 필수 정보 입력 및 프로필 이미지 업로드
- [x] **식당 등록**: 메뉴 등록 및 최소 주문 금액 설정
- [ ] **주문 처리**: 사용자의 주문 요청 및 배달 시작 기능 구현
- [ ] **실시간 배달 추적**: 배달부 위치 및 이동 경로 표시
- [ ] **주문 관리**: 주문 상태 모니터링 및 배달원 할당
- [ ] **식당 목록 조회**: 주소 입력 후 주변 식당 목록 표시
- [ ] **장바구니**: 음식 추가 및 결제 기능 구현
- [ ] **주문 상태 추적**: 상태 및 예상 배달 시간 확인
- [ ] **배달원 위치 추적**: 실시간 위치 표시

### 도전

- [x] **이메일 인증 추가**: 사용자 인증 과정에 이메일 인증을 추가하여 보안을 강화합니다.
- [ ] **리뷰 기능 구현**: 사용자들이 음식과 배달 서비스에 대한 리뷰를 남길 수 있도록 합니다.
- [ ] **식당 즐겨찾기**: 좋아하는 식당 저장
- [ ] **식당 및 음식 평가**: 고객 리뷰 및 평점 남기기
- [ ] **결제 시스템 통합**: 안전한 결제를 위한 결제 시스템 통합을 목표로 합니다.

## 프로젝트 실행 및 테스트

1. **프로젝트 실행**
    - GitHub에서 프로젝트를 클론합니다.
    ```bash
    git clone https://github.com/diung00/ktc-final-project.git
    ```
    - `IntelliJ`에서 프로젝트를 열고, Gradle 의존성을 다운로드합니다.
    - `application.yaml` 파일을 설정합니다.
    - `ChoiGangDeliveryApp` 클래스를 실행합니다.

2. **API 테스트**
    - Postman을 열고, 제공된 컬렉션 파일을 임포트합니다.
    - 각 API 엔드포인트를 테스트하여 기능을 확인합니다.

## 파일 링크

- [Postman Collection](docs/CHOI-GANG-DELIVERY-APP.postman_collection.json)
- [Entity Diagram](docs/ERD.png)
- [Workflow Diagram](Link_to_WorkFlow_Diagram)
- [패키지 구조 다이어그램](Link_To_Structure_Tree)
